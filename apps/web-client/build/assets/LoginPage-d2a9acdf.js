import{w as L,h as j,a as r,u as E,m,j as n,o as F}from"./index-04133603.js";import{A as M}from"./AuthForm-44bd2021.js";import"./Modal-a94156ed.js";import"./throttle-6f972964.js";import"./getFileUrl-459fc159.js";import"./Block.styles-4dce9da8.js";const C=({location:b,history:i})=>{const t=j(),[p,a]=r.useState(null),[g,u]=r.useState(!1),e=()=>{u(!0)},f=()=>{u(!1)},{authError:o,status:{isLogin:l},login:{status:c}}=E(s=>s.auth),h=({id:s,password:x})=>{t(F({id:s,password:x}))};r.useEffect(()=>{if(c==="FAILURE"&&o){if(o.response.status===403){a(o.response.data.message),e(),t(m());return}a("로그인에 실패하였습니다."),e(),t(m());return}l&&(e(),i.push("/"))},[o,l,i,c,t]);function d(s){a(s)}return n.jsx(M,{type:"login",onSubmit:h,message:p,onChangeMessage:d,modalVisible:g,handleModalOpen:e,handleModalClose:f})},S=L(C),O=()=>n.jsx(n.Fragment,{children:n.jsx(S,{})});export{O as default};
