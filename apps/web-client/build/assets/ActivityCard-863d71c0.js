import{j as t,A as I,a as C,M as g,i as E}from"./index-04133603.js";import{A as F,a as H,S as Y,b,c as m,d as O,e as z,f as N,g as U,h as q,i as w,j as r,k as G,F as J}from"./ActivityCard.styles-7afa2c3c.js";import{A as K}from"./ActivityRegisterModalContainer-b4933084.js";import{M as L}from"./Modal-a94156ed.js";const P=({activityTitle:o,visible:d,onConfirm:h,onCancel:l})=>{const e=`'${o}'를(을) 삭제하시겠습니까?`,x=t.jsx(I,{onClick:h,children:"삭제"});return t.jsx(L,{contents:e,buttons:x,onCancel:l,visible:d})},_=({activity:o,onToggleRegisterActivity:d,onDeleteActivity:h,isLogin:l,memberId:e,role:x})=>{const[s,D]=C.useState(o.memberLoginIds),[f,j]=C.useState(!1),[p,v]=C.useState(!1),y=()=>{j(!0)},M=()=>{v(!0)},T=n=>{n.preventDefault(),d(a,s,D),j(!1)},$=n=>{n.preventDefault(),h(a)},k=()=>{j(!1)},R=()=>{v(!1)},{id:a,title:u,host:i,startDate:S,classHour:V,capacity:A,available:c,tags:B}=o;return t.jsxs(t.Fragment,{children:[t.jsx(K,{visible:f,activityTitle:u,onConfirm:T,onCancel:k,isRegister:!s.includes(e)}),t.jsx(P,{visible:p,activityTitle:u,onConfirm:$,onCancel:R}),t.jsx(F,{children:t.jsxs(H,{children:[t.jsx(Y,{to:`/${g.ACTIVITY}/${a}`,children:t.jsx(b,{children:u})}),t.jsx(m,{children:V}),t.jsx(O,{children:`${S} ~ `}),t.jsx(z,{children:i.name}),t.jsxs(N,{children:[l&&`${s.length}명/`,!l&&"정원 ",A,"명"]}),t.jsx(U,{children:B.map(n=>t.jsxs(q,{children:["#",n.name]},n.name))}),l&&E(x)&&(e===i.loginID||c)&&t.jsxs(w,{children:[e===i.loginID&&t.jsx(r,{to:`/${g.ACTIVITY}/edit/${a}`,children:"관리"}),e===i.loginID&&t.jsx(r,{to:`/${g.ACTIVITY}/${a}/attendance`,children:"출석"}),e===i.loginID&&t.jsx(G,{onClick:M,children:"삭제"}),c&&e!==i.loginID&&!s.includes(e)&&s.length<A&&t.jsx(r,{onClick:y,children:"신청"}),c&&e!==i.loginID&&!s.includes(e)&&s.length>=A&&t.jsx(J,{children:"[정원 마감]"}),c&&e!==i.loginID&&s.includes(e)&&t.jsx(r,{onClick:y,children:"신청 취소"})]})]})})]})};export{_ as A};
